import{r as V,a0 as O,a as k,W as S,b as a,X as T,o as r,c as p,w as l,e,M as D,N as W,O as X,f as c,g as _,k as Y,t as u,d as f,Y as Z,q as G,Z as H}from"./index.d72b22c6.js";import{A as I}from"./index.00d8e915.js";import"./axios.91e25212.js";const J=f("div",{class:"font-bold"},"\u7BA1\u7406\u5458\u4FE1\u606F\u5217\u8868",-1),K=f("span",{class:"ml-[3px]"},"\u67E5\u8BE2",-1),Q=f("span",{class:"ml-[3px]"},"\u5220\u9664",-1),ee={class:"flex flex-row justify-between items-center mt-[10px]"},le={class:"text-[14px]"},ie={__name:"AdminInfoList",setup(te){const v=V(!1),h=O("baseURL"),i=k({pageIndex:"1",admin_name:"",admin_sex:"",admin_tel:"",admin_email:""}),s=k({listData:[],pageCount:0,totalCount:0}),b=()=>{v.value=!0,I.adminInfo.getListByPage(i).then(o=>{console.log(o),s.listData=o.listData,s.pageCount=o.pageCount,s.totalCount=o.totalCount}).catch(o=>{}).finally(()=>{v.value=!1})},A=o=>{I.adminInfo.deleteById(o).then(n=>{ElNotification({type:"success",title:"\u5220\u9664\u6210\u529F",message:"\u7BA1\u7406\u5458\u4FE1\u606F\u5220\u9664\u6210\u529F"}),queryData()}).catch(n=>{ElNotification({type:"danger",title:"\u5220\u9664\u5931\u8D25",message:"\u7BA1\u7406\u5458\u4FE1\u606F\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5\u6216\u8054\u7CFB\u7BA1\u7406\u5458"})})};S(()=>{b()});const B=o=>{i.pageIndex=o,b()},C=V(""),L=[{value:"\u7537",label:"\u7537"},{value:"\u5973",label:"\u5973"}];return(o,n)=>{const y=a("el-input"),m=a("el-form-item"),N=a("el-option"),U=a("el-select"),w=a("el-icon"),x=a("el-button"),q=a("el-form"),d=a("el-table-column"),g=a("el-tag"),E=a("el-link"),$=a("el-image"),j=a("el-popconfirm"),F=a("el-table"),M=a("el-pagination"),P=a("el-card"),R=a("page-view"),z=T("loading");return r(),p(R,null,{default:l(()=>[e(P,null,{header:l(()=>[J]),default:l(()=>[e(q,{model:i,inline:!0},{default:l(()=>[e(m,{label:"\u59D3\u540D"},{default:l(()=>[e(y,{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",modelValue:i.admin_name,"onUpdate:modelValue":n[0]||(n[0]=t=>i.admin_name=t)},null,8,["modelValue"])]),_:1}),e(m,{label:"\u6027\u522B"},{default:l(()=>[e(U,{modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=t=>C.value=t),"v-model":i.admin_sex,class:"m-2",placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(r(),D(X,null,W(L,t=>e(N,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","v-model"])]),_:1}),e(m,{label:"\u624B\u673A\u53F7\u7801"},{default:l(()=>[e(y,{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",modelValue:i.admin_tel,"onUpdate:modelValue":n[2]||(n[2]=t=>i.admin_tel=t)},null,8,["modelValue"])]),_:1}),e(m,{label:"\u90AE\u7BB1"},{default:l(()=>[e(y,{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",modelValue:i.admin_email,"onUpdate:modelValue":n[3]||(n[3]=t=>i.admin_email=t)},null,8,["modelValue"])]),_:1}),e(m,null,{default:l(()=>[e(x,{type:"primary",plain:"",onClick:b},{default:l(()=>[e(w,null,{default:l(()=>[e(c(Z))]),_:1}),K]),_:1}),e(x,{plain:"",type:"success",icon:c(G),onClick:n[4]||(n[4]=t=>o.$router.push({name:"AddAdminInfo"}))},{default:l(()=>[_(" \u65B0\u589E")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),Y((r(),D("div",null,[e(F,{data:s.listData,border:"",stripe:"","max-height":"450"},{default:l(()=>[e(d,{prop:"id",label:"id",align:"center",width:"80"}),e(d,{prop:"admin_name",label:"\u59D3\u540D",align:"center",width:"120"}),e(d,{label:"\u6027\u522B",align:"center",width:"90"},{default:l(({row:t})=>[t.admin_sex=="\u5973"?(r(),p(g,{key:0,type:"danger"},{default:l(()=>[_(u(t.admin_sex),1)]),_:2},1024)):(r(),p(g,{key:1,type:"primary"},{default:l(()=>[_(u(t.admin_sex),1)]),_:2},1024))]),_:1}),e(d,{prop:"admin_tel",label:"\u624B\u673A\u53F7",align:"center",width:"180"}),e(d,{label:"\u90AE\u7BB1",align:"center",width:"250"},{default:l(({row:t})=>[e(E,{type:"primary"},{default:l(()=>[_(u(t.admin_email),1)]),_:2},1024)]),_:1}),e(d,{label:"\u5934\u50CF",align:"center",width:"220"},{default:l(({row:t})=>[e($,{src:c(h)+t.admin_photo,class:"w-[80px] h-[60px]",fit:"cover","preview-src-list":[c(h)+t.user_photo],"preview-teleported":!0},null,8,["src","preview-src-list"])]),_:1}),e(d,{prop:"admin_type",label:"\u7C7B\u578B",align:"center"},{default:l(({row:t})=>[t.admin_type=="0"?(r(),p(g,{key:0,type:"primary"},{default:l(()=>[_("\u666E\u901A\u7BA1\u7406\u5458")]),_:1})):(r(),p(g,{key:1,type:"danger"},{default:l(()=>[_("\u8D85\u7EA7\u7BA1\u7406\u5458")]),_:1}))]),_:1}),e(d,{label:"\u64CD\u4F5C",align:"center"},{default:l(()=>[e(j,{title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onConfirm:n[5]||(n[5]=t=>A(o.row.id))},{reference:l(()=>[e(x,{type:"danger",plain:"",size:"small"},{default:l(()=>[e(w,null,{default:l(()=>[e(c(H))]),_:1}),Q]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),f("div",ee,[f("div",le," \u5F53\u524D\u7B2C"+u(i.pageIndex)+"\u9875\uFF0C\u5171"+u(s.pageCount)+"\u9875\uFF0C\u5171"+u(s.totalCount)+"\u6761 ",1),e(M,{background:"",layout:"prev, pager, next",total:s.totalCount,onCurrentChange:B},null,8,["total"])])])),[[z,v.value]])]),_:1})]),_:1})}}};export{ie as default};
