import{u as E,a3 as V,r,b as t,o as k,c as h,w as e,e as o,f as x,g as _,d as N,E as c,l as B}from"./index.d72b22c6.js";import{A as F}from"./index.00d8e915.js";import"./axios.91e25212.js";const R=N("div",{class:"font-bold"},"\u7F16\u8F91\u83DC\u54C1\u5206\u7C7B",-1),S={__name:"EditCategoryInfo",setup(A){const d=E();V();const l=r({id:"",category_name:""}),f={category_name:[{required:!0,message:"\u8BF7\u7F16\u8F91\u5206\u7C7B\u540D\u79F0",trigger:"blur"}]},n=r(!1),p=()=>{n.value=!0,F.categoryInfo.add(l).then(a=>{c({type:"success",title:"\u63D0\u793A",message:"\u7F16\u8F91\u9910\u70B9\u5206\u7C7B\u6210\u529F"}),d.replace({name:"CategoryInfoList"})}).catch(a=>{c({type:"error",title:"\u63D0\u793A",message:"\u7F16\u8F91\u9910\u70B9\u5206\u7C7B\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u6216\u8054\u7CFB\u8D85\u7EA7\u7BA1\u7406\u5458"}),console.log(a)}).finally(()=>{n.value=!1})},s=r(null),g=()=>{s.value.validate(a=>{a?p():c({type:"warning",title:"\u63D0\u793A",message:"\u8BF7\u68C0\u67E5\u8868\u5355\u5185\u5BB9\u662F\u5426\u586B\u5199\u6B63\u786E"})})},y=()=>{s.value.resetFields()};return(a,u)=>{const v=t("el-input"),i=t("el-form-item"),m=t("el-button"),b=t("el-form"),C=t("el-card"),I=t("page-view");return k(),h(I,null,{default:e(()=>[o(C,null,{header:e(()=>[R]),default:e(()=>[o(b,{ref_key:"formEl",ref:s,model:l.value,rules:f},{default:e(()=>[o(i,{label:"\u5206\u7C7B\u540D\u79F0",prop:"category_name"},{default:e(()=>[o(v,{modelValue:l.value.category_name,"onUpdate:modelValue":u[0]||(u[0]=w=>l.value.category_name=w)},null,8,["modelValue"])]),_:1}),o(i,null,{default:e(()=>[o(m,{type:"success",plain:"",onClick:g,loading:n.value,"loading-icon":x(B)},{default:e(()=>[_(" \u4FDD\u5B58\u6570\u636E")]),_:1},8,["loading","loading-icon"]),o(m,{type:"warning",plain:"",onClick:y},{default:e(()=>[_("\u91CD\u7F6E\u8868\u5355")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}};export{S as default};
