import{u as V,a as h,r as d,b as t,o as k,c as x,w as e,e as o,f as A,g as m,d as E,E as r,l as N}from"./index.d72b22c6.js";import{A as B}from"./index.00d8e915.js";import"./axios.91e25212.js";const F=E("div",{class:"font-bold"},"\u65B0\u589E\u83DC\u54C1\u5206\u7C7B",-1),S={__name:"AddCategoryInfo",setup(R){const _=V(),l=h({id:"",category_name:""}),f={category_name:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u589E\u5206\u7C7B\u540D\u79F0",trigger:"blur"}]},n=d(!1),p=()=>{n.value=!0,B.categoryInfo.add(l).then(a=>{r({type:"success",title:"\u63D0\u793A",message:"\u65B0\u589E\u9910\u70B9\u5206\u7C7B\u6210\u529F"}),_.replace({name:"CategoryInfoList"})}).catch(a=>{r({type:"error",title:"\u63D0\u793A",message:"\u65B0\u589E\u9910\u70B9\u5206\u7C7B\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u6216\u8054\u7CFB\u8D85\u7EA7\u7BA1\u7406\u5458"}),console.log(a)}).finally(()=>{n.value=!1})},s=d(null),g=()=>{s.value.validate(a=>{a?p():r({type:"warning",title:"\u63D0\u793A",message:"\u8BF7\u68C0\u67E5\u8868\u5355\u5185\u5BB9\u662F\u5426\u586B\u5199\u6B63\u786E"})})},y=()=>{s.value.resetFields()};return(a,c)=>{const v=t("el-input"),i=t("el-form-item"),u=t("el-button"),b=t("el-form"),C=t("el-card"),I=t("page-view");return k(),x(I,null,{default:e(()=>[o(C,null,{header:e(()=>[F]),default:e(()=>[o(b,{ref_key:"formEl",ref:s,model:l,rules:f},{default:e(()=>[o(i,{label:"\u5206\u7C7B\u540D\u79F0",prop:"category_name"},{default:e(()=>[o(v,{placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",modelValue:l.category_name,"onUpdate:modelValue":c[0]||(c[0]=w=>l.category_name=w)},null,8,["modelValue"])]),_:1}),o(i,null,{default:e(()=>[o(u,{type:"success",plain:"",onClick:g,loading:n.value,"loading-icon":A(N)},{default:e(()=>[m(" \u4FDD\u5B58\u6570\u636E")]),_:1},8,["loading","loading-icon"]),o(u,{type:"warning",plain:"",onClick:y},{default:e(()=>[m("\u91CD\u7F6E\u8868\u5355")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}};export{S as default};
