import{u as L,r as q,a as y,W as A,b as o,X as N,o as v,c as z,w as t,e,f as c,g as b,k as E,M,t as d,d as r,Y as P,q as T,K as j,Z as F}from"./index.04828e1d.js";import{A as K}from"./index.bba10be5.js";import{f as R}from"./DateTimeUtils.23715b52.js";import"./axios.91e25212.js";const S=r("div",{class:"font-bold"},"\u9910\u70B9\u5206\u7C7B\u4FE1\u606F\u5217\u8868",-1),U=r("span",{class:"ml-[5px]"},"\u67E5\u8BE2",-1),W=r("span",{class:"ml-[3px]"},"\u7F16\u8F91",-1),X=r("span",{class:"ml-[3px]"},"\u5220\u9664",-1),Y={class:"flex flex-row justify-between items-center mt-[10px]"},Z={class:"text-[14px]"},te={__name:"CategoryInfoList",setup(G){L();const p=q(!1),s=y({pageIndex:"1",category_name:""}),n=y({listData:[],pageCount:0,totalCount:0}),m=()=>{p.value=!0,K.categoryInfo.getListByPage(s).then(a=>{console.log(a),n.listData=a.listData,n.pageCount=a.pageCount,n.totalCount=a.totalCount}).catch(a=>{}).finally(()=>{p.value=!1})},h=a=>{s.pageIndex=a,m()};return A(()=>{m()}),(a,_)=>{const x=o("el-input"),g=o("el-form-item"),f=o("el-icon"),u=o("el-button"),D=o("el-form"),i=o("el-table-column"),I=o("el-popconfirm"),k=o("el-table"),w=o("el-pagination"),V=o("el-card"),$=o("page-view"),B=N("loading");return v(),z($,null,{default:t(()=>[e(V,null,{header:t(()=>[S]),default:t(()=>[e(D,{model:s,inline:!0},{default:t(()=>[e(g,{label:"\u5206\u7C7B\u540D\u79F0"},{default:t(()=>[e(x,{placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",modelValue:s.category_name,"onUpdate:modelValue":_[0]||(_[0]=l=>s.category_name=l)},null,8,["modelValue"])]),_:1}),e(g,null,{default:t(()=>[e(u,{type:"primary",plain:"",onClick:m},{default:t(()=>[e(f,null,{default:t(()=>[e(c(P))]),_:1}),U]),_:1}),e(u,{plain:"",type:"success",icon:c(T),onClick:_[1]||(_[1]=l=>a.$router.push({name:"AddCategoryInfo"}))},{default:t(()=>[b("\u65B0\u589E\u5206\u7C7B")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),E((v(),M("div",null,[e(k,{data:n.listData,border:"",stripe:"","max-height":"450"},{default:t(()=>[e(i,{label:"id",prop:"id",align:"center"}),e(i,{label:"\u5206\u7C7B\u540D\u79F0",prop:"category_name",align:"center"}),e(i,{label:"\u9910\u70B9\u603B\u6570",prop:"foodInfoList.length",align:"center"}),e(i,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center"},{default:t(({row:l,column:C,$index:H})=>[b(d(c(R)(l.create_time)),1)]),_:1}),e(i,{label:"\u64CD\u4F5C",align:"center"},{default:t(({row:l})=>[e(u,{type:"warning",plain:"",size:"small",onClick:C=>a.$router.push({name:"EditCategoryInfo",params:{id:l.id}})},{default:t(()=>[e(f,null,{default:t(()=>[e(c(j))]),_:1}),W]),_:2},1032,["onClick"]),e(I,{title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onConfirm:C=>a.deletCurrentItem(l.id)},{reference:t(()=>[e(u,{type:"danger",plain:"",size:"small"},{default:t(()=>[e(f,null,{default:t(()=>[e(c(F))]),_:1}),X]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),r("div",Y,[r("div",Z,"\u5F53\u524D\u7B2C"+d(s.pageIndex)+"\u9875\uFF0C\u5171"+d(n.pageCount)+"\u9875\uFF0C\u5171"+d(n.totalCount)+"\u6761 ",1),e(w,{background:"",layout:"prev, pager, next",total:n.totalCount,onCurrentChange:h},null,8,["total"])])])),[[B,p.value]])]),_:1})]),_:1})}}};export{te as default};
