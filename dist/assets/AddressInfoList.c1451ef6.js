import{r as L,a as b,W as M,b as a,X as P,o as C,c as U,w as t,e,f,g as v,k as j,M as z,t as d,d as i,E as x,Y as F,q as S,Z as T}from"./index.04828e1d.js";import{A as y}from"./index.bba10be5.js";import"./axios.91e25212.js";const W=i("div",{class:"font-bold"},"\u6536\u8D27\u5730\u5740\u5217\u8868",-1),X=i("span",{class:"ml-[5px]"},"\u67E5\u8BE2",-1),Y=i("span",{class:"ml-[3px]"},"\u5220\u9664",-1),Z={class:"flex flex-row justify-between items-center mt-[10px]"},$={class:"text-[14px]"},Q={__name:"AddressInfoList",setup(G){const p=L(!1),n=b({pageIndex:"1",nickName:"",phone:""}),o=b({listData:[],pageCount:0,totalCount:0}),_=()=>{p.value=!0,y.addressInfo.getListByPage(n).then(l=>{console.log(l),o.listData=l.listData,o.pageCount=l.pageCount,o.totalCount=l.totalCount}).catch(l=>{}).finally(()=>{p.value=!1})},w=l=>{y.addressInfo.deleteById(l).then(()=>{x({type:"success",title:"\u5220\u9664\u6210\u529F",message:"\u5F53\u524D\u5730\u5740\u4FE1\u606F\u5220\u9664\u6210\u529F"}),queryData()}).catch(()=>{x({type:"error",title:"\u5220\u9664\u5931\u8D25",message:"\u5F53\u524D\u5730\u5740\u4FE1\u606F\u5220\u9664\u5931\u8D25,\u8BF7\u5237\u65B0\u6216\u8005\u8054\u7CFB\u7BA1\u7406\u5458"})})};M(()=>{_()});const D=l=>{n.pageIndex=l,_()};return(l,r)=>{const g=a("el-input"),u=a("el-form-item"),h=a("el-icon"),m=a("el-button"),k=a("el-form"),s=a("el-table-column"),I=a("el-tag"),V=a("el-popconfirm"),N=a("el-table"),B=a("el-pagination"),A=a("el-card"),q=a("page-view"),E=P("loading");return C(),U(q,null,{default:t(()=>[e(A,null,{header:t(()=>[W]),default:t(()=>[e(k,{model:n,inline:!0},{default:t(()=>[e(u,{label:"\u7528\u6237\u6635\u79F0"},{default:t(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0",modelValue:n.nickName,"onUpdate:modelValue":r[0]||(r[0]=c=>n.nickName=c)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u624B\u673A\u53F7\u7801"},{default:t(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",modelValue:n.phone,"onUpdate:modelValue":r[1]||(r[1]=c=>n.phone=c)},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(m,{type:"primary",plain:"",onClick:_},{default:t(()=>[e(h,null,{default:t(()=>[e(f(F))]),_:1}),X]),_:1}),e(m,{plain:"",type:"success",icon:f(S)},{default:t(()=>[v("\u65B0\u589E\u5206\u7C7B")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),j((C(),z("div",null,[e(N,{data:o.listData,border:"",stripe:"","max-height":"450"},{default:t(()=>[e(s,{prop:"id",label:"id",align:"center",width:"80"}),e(s,{prop:"userInfo.nickName",label:"\u6240\u5C5E\u7528\u6237",width:"100",align:"center"}),e(s,{prop:"phone",label:"\u624B\u673A\u53F7",align:"center",width:"160"}),e(s,{prop:"address",label:"\u5730\u5740",align:"center",width:"400"}),e(s,{prop:"person_name",label:"\u8054\u7CFB\u4EBA",align:"center"}),e(s,{label:"\u6807\u7B7E",align:"center"},{default:t(({row:c})=>[e(I,{class:"ml-2",type:"success"},{default:t(()=>[v(d(c.tag),1)]),_:2},1024)]),_:1}),e(s,{label:"\u64CD\u4F5C",align:"center"},{default:t(({row:c})=>[e(V,{title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onConfirm:H=>w(c.id)},{reference:t(()=>[e(m,{type:"danger",plain:"",size:"small"},{default:t(()=>[e(h,null,{default:t(()=>[e(f(T))]),_:1}),Y]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),i("div",Z,[i("div",$," \u5F53\u524D\u7B2C"+d(n.pageIndex)+"\u9875\uFF0C\u5171"+d(o.pageCount)+"\u9875\uFF0C\u5171"+d(o.totalCount)+"\u6761 ",1),e(B,{background:"",layout:"prev, pager, next",total:o.totalCount,onCurrentChange:D},null,8,["total"])])])),[[E,p.value]])]),_:1})]),_:1})}}};export{Q as default};
